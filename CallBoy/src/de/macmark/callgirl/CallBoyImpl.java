package de.macmark.callgirl;

import android.app.Service;
import android.content.Intent;
import android.net.Uri;
import android.os.IBinder;
import android.os.RemoteException;
import android.util.Log;


//Does phone calls for other apps (that have no permissions) via inter app service.
//For more informations take a look at http://www.macmark.de/android.php#example_exploit4

public class CallBoyImpl extends Service {


	@Override
	public IBinder onBind(Intent intent) {
		
		Log.e("REMOTE SERVICE ", "INVOKED");

		return new ICallService.Stub() {
			/**
			 * Implementation of the getContacts() method
			 */
			public void callIt(String phoneNumber) throws RemoteException {
				Log.e("service", "bin schon am wählen");

              Intent dialIntent=new Intent(Intent.ACTION_CALL,Uri.parse("tel:"+phoneNumber));
              dialIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
              startActivity(dialIntent);
				
			


			}

		};
	}

}